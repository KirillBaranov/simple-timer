{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/js/entry.js","webpack:///./src/js/timer.js","webpack:///./src/js/class/Timer.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","myCallback","console","log","$","document","ready","options","hasLabel","callback","timer","Timer","click","start","stop","target","deadline","this","e","daysContainer","find","hoursContainer","minutesContainer","secondsContainer","undefined","daysLabelContainer","hoursLabelContainer","minutesLabelContainer","secondsLabelContainer","Date","helper","secondsInDay","secondsInHour","secondsInMinute","tick","interval","setInterval","findDifference","updateTimerLabel","devModeUpdate","now","secondsInNow","getDate","getHours","getMinutes","getSeconds","difference","findTimerTime","timeIsEnded","days","Math","floor","countSecondsInDay","hours","countSecondsInHours","minutes","countSecondsInMinutes","seconds","timeToDeadline","updateTimerDate","daysLabel","hoursLabel","minutesLabel","secondsLabel","labels","label","setCorrectLabelText","text","time","_self","window","_TIMERS","item","push","clearInterval","Error"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","// Use import and connect your files here.\r\nimport '../scss/style.scss'\r\n\r\n\r\n// js\r\nimport './timer'","import { Timer } from \"./class/Timer\";\r\n\r\n$( document ).ready( () => {\r\n    const deadline = '2020-05-12T23:09:30';\r\n\r\n    const options = {\r\n        hasLabel: true,\r\n        mode: 'dev',\r\n        callback: myCallback\r\n    }\r\n\r\n    const timer   = new Timer( '#timer', deadline, options );\r\n\r\n\r\n    // start timer.\r\n    $( '#start' ).click( () => {\r\n        timer.start();\r\n    });\r\n\r\n    // stop timer\r\n    $( '#stop' ).click( () => {\r\n        timer.stop();\r\n    });\r\n});\r\n\r\nfunction myCallback() {\r\n    console.log( 'my callback' );\r\n}","/**\r\n * Target - DOM node.\r\n * deadline - deadline date as example 2020-04-24T22:28:00\r\n * Options - object have fields:\r\n *  - Has label or no ( minutes, seconds and other ).\r\n *  How to use => options.hasLabel ( Boolean ).\r\n *\r\n *  - Callback method will called when timer will ended.\r\n *  How to use => options.callback ( Function ).\r\n *\r\n *  - mode: dev or build. In dev mode you can see timer in window._TIMERS\r\n *  How to use => options.mode ( Build or dev ).\r\n *  Todo: make choose locale for label.\r\n */\r\n\r\nexport class Timer {\r\n    constructor( target, deadline, options = [] )\r\n    {\r\n        if ( options ) {\r\n            this.options = options;\r\n        }\r\n\r\n        // DOM target.\r\n        this.e = $( target );\r\n        this.daysContainer    = this.e.find( '.timer__days-container' );\r\n        this.hoursContainer   = this.e.find( '.timer__hours-container' );\r\n        this.minutesContainer = this.e.find( '.timer__minutes-container' );\r\n        this.secondsContainer = this.e.find( '.timer__seconds-container' );\r\n\r\n        // timer labels\r\n        if ( this.options.hasLabel || this.options.hasLabel === undefined ) {\r\n            this.hasLabel = true;\r\n\r\n            // DOM target label\r\n            this.daysLabelContainer    = this.e.find( '.timer__days-label-container' );\r\n            this.hoursLabelContainer   = this.e.find( '.timer__hours-label-container' );\r\n            this.minutesLabelContainer = this.e.find( '.timer__minutes-label-container' );\r\n            this.secondsLabelContainer = this.e.find( '.timer__seconds-label-container' );\r\n        }\r\n\r\n        // set deadline time.\r\n        this.deadline         = new Date( deadline );\r\n\r\n        // helper const\r\n        this.helper = {\r\n            secondsInDay: 24 * 60 * 60,\r\n            secondsInHour: 60 * 60,\r\n            secondsInMinute: 60\r\n        };\r\n\r\n        // init timer.\r\n        this.tick();\r\n    }\r\n\r\n    tick()\r\n    {\r\n        this.interval = setInterval( () => {\r\n            this.findDifference( this.deadline );\r\n\r\n            // update timer label if this option is choose\r\n            if ( this.hasLabel ) {\r\n                this.updateTimerLabel();\r\n            }\r\n\r\n            // if mode dev you can see all info about timer here - window._TIMERS.\r\n            if ( this.options.mode === 'dev' ) {\r\n                this.devModeUpdate();\r\n            }\r\n        }, 1000 );\r\n    }\r\n\r\n    findDifference( deadline )\r\n    {\r\n        const now      = new Date();\r\n\r\n        const secondsInNow = now.getDate() * this.helper.secondsInDay +\r\n            now.getHours() * this.helper.secondsInHour +\r\n            now.getMinutes() * this.helper.secondsInMinute +\r\n            now.getSeconds();\r\n\r\n        const secondsInDeadline = deadline.getDate() * this.helper.secondsInDay +\r\n            deadline.getHours() * this.helper.secondsInHour +\r\n            deadline.getMinutes() * this.helper.secondsInMinute +\r\n            deadline.getSeconds();\r\n\r\n        const difference = secondsInDeadline - secondsInNow;\r\n\r\n        if ( difference > 0 ) {\r\n            this.findTimerTime( difference );\r\n        }\r\n\r\n        else {\r\n            // set ended callback\r\n            if ( this.options.callback ) {\r\n                this.timeIsEnded( this.options.callback );\r\n            }\r\n\r\n            else {\r\n                this.timeIsEnded();\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    findTimerTime( difference )\r\n    {\r\n        const days = Math.floor( difference / this.helper.secondsInDay );\r\n        const countSecondsInDay = days * this.helper.secondsInDay; // Кол-во секунд в оставшихся днях.\r\n\r\n        const hours = Math.floor( ( difference - countSecondsInDay ) / this.helper.secondsInHour );\r\n        const countSecondsInHours = hours * this.helper.secondsInHour; // Кол-во секунд в оставшихся часах.\r\n\r\n        const minutes = Math.floor( ( difference - ( countSecondsInDay + countSecondsInHours ) ) / this.helper.secondsInMinute );\r\n        const countSecondsInMinutes = minutes * this.helper.secondsInMinute; // Кол-во секунд в оставшихся минутах.\r\n\r\n        const seconds = Math.floor( difference - ( countSecondsInDay + countSecondsInHours + countSecondsInMinutes ) );\r\n\r\n        // Timer API\r\n        this.timeToDeadline = {\r\n            days: days,\r\n            hours: hours,\r\n            minutes: minutes,\r\n            seconds: seconds\r\n        };\r\n\r\n        this.updateTimerDate( {\r\n            days: days < 10 ? '0' + days : days,\r\n            hours: hours < 10 ? '0' + hours : hours,\r\n            minutes: minutes < 10 ? '0' + minutes : minutes,\r\n            seconds: seconds < 10 ? '0' + seconds : seconds\r\n        });\r\n    }\r\n\r\n    setCorrectLabelText() {\r\n        const days         = this.timeToDeadline.days;\r\n        const daysLabel    = (days === 1 || (days > 19 && days % 10 === 1)) ? 'день' :\r\n                             ((days > 1 && days < 5) || (days > 19 && days % 10 > 1 && days % 10 < 5)) ? 'дня' : 'дней';\r\n\r\n        const hours        = this.timeToDeadline.hours;\r\n        const hoursLabel   = (hours === 1 || (hours > 19 && hours % 10 === 1)) ? 'час' :\r\n                             ((hours > 1 && hours < 5) || (hours > 19 && hours % 10 > 1 && hours % 10 < 5)) ? 'часа' : 'часов';\r\n\r\n        const minutes      = this.timeToDeadline.minutes;\r\n        const minutesLabel = ( minutes === 1 || minutes % 10 === 1 ) ? 'минута' :\r\n                             ( minutes % 10 === 0 || ( minutes % 10 >= 5 && minutes % 10 <= 9 ) )  ? 'минут' : 'минуты';\r\n\r\n        const seconds      = this.timeToDeadline.seconds;\r\n        const secondsLabel = ( seconds === 1 || seconds % 10 === 1 ) ? 'секунда' :\r\n                             ( seconds % 10 === 0 || ( seconds % 10 >= 5 && seconds % 10 <= 9 ) ) ? 'секунд' : 'секунды';\r\n\r\n        this.labels = {\r\n            daysLabel,\r\n            hoursLabel,\r\n            minutesLabel,\r\n            secondsLabel\r\n        }\r\n\r\n        return this.labels;\r\n    }\r\n\r\n    updateTimerLabel()\r\n    {\r\n        const label = this.setCorrectLabelText();\r\n\r\n        $( this.daysLabelContainer ).text( label.daysLabel );\r\n        $( this.hoursLabelContainer ).text( label.hoursLabel );\r\n        $( this.minutesLabelContainer ).text( label.minutesLabel );\r\n        $( this.secondsLabelContainer ).text( label.secondsLabel );\r\n    }\r\n\r\n    updateTimerDate( time )\r\n    {\r\n        $( this.daysContainer ).text( time.days );\r\n        $( this.hoursContainer ).text( time.hours );\r\n        $( this.minutesContainer ).text( time.minutes );\r\n        $( this.secondsContainer ).text( time.seconds );\r\n    }\r\n\r\n    devModeUpdate()\r\n    {\r\n        const _self = this;\r\n\r\n        // if _TIMES not empty\r\n        if ( window._TIMERS ) {\r\n\r\n            // if hasn't match => push new item.\r\n            const hasMatch = window._TIMERS.find( item => {\r\n                return item === _self;\r\n            });\r\n\r\n            if ( !hasMatch ) {\r\n                window._TIMERS.push( _self );\r\n            }\r\n        }\r\n\r\n        // create and push first item.\r\n        else {\r\n            window._TIMERS = [];\r\n            window._TIMERS.push( this );\r\n        }\r\n    }\r\n\r\n    // API Methods for timer\r\n\r\n    // set new deadline.\r\n    updateTimerDeadline( deadline )\r\n    {\r\n        this.deadline = deadline;\r\n    }\r\n\r\n    // set callback when time will ended\r\n    timeIsEnded( callback = function() {} )\r\n    {\r\n        // clear interval | stop timer.\r\n        clearInterval( this.interval );\r\n\r\n        try {\r\n            callback();\r\n        }\r\n\r\n        catch (e) {\r\n            throw new Error( `Invalid callback method for ${ this.e }` );\r\n        }\r\n    }\r\n\r\n    stop()\r\n    {\r\n        clearInterval( this.interval );\r\n    }\r\n\r\n    start()\r\n    {\r\n        this.tick();\r\n    }\r\n}"],"sourceRoot":""}