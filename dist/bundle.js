!function(e){var t={};function n(i){if(t[i])return t[i].exports;var s=t[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(i,s,function(t){return e[t]}.bind(null,s));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";n(2),n(3)},function(e,t,n){},function(e,t,n){"use strict";var i=n(4);function s(){console.log("my callback")}$(document).ready((function(){var e={hasLabel:!0,mode:"dev",callback:s},t=new i.Timer("#timer","2020-05-12T23:09:30",e);$("#start").click((function(){t.start()})),$("#stop").click((function(){t.stop()}))}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.Timer=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];s(this,e),i&&(this.options=i),this.e=$(t),this.daysContainer=this.e.find(".timer__days-container"),this.hoursContainer=this.e.find(".timer__hours-container"),this.minutesContainer=this.e.find(".timer__minutes-container"),this.secondsContainer=this.e.find(".timer__seconds-container"),(this.options.hasLabel||void 0===this.options.hasLabel)&&(this.hasLabel=!0,this.daysLabelContainer=this.e.find(".timer__days-label-container"),this.hoursLabelContainer=this.e.find(".timer__hours-label-container"),this.minutesLabelContainer=this.e.find(".timer__minutes-label-container"),this.secondsLabelContainer=this.e.find(".timer__seconds-label-container")),this.deadline=new Date(n),this.helper={secondsInDay:86400,secondsInHour:3600,secondsInMinute:60},this.tick()}return i(e,[{key:"tick",value:function(){var e=this;this.interval=setInterval((function(){e.findDifference(e.deadline),e.hasLabel&&e.updateTimerLabel(),"dev"===e.options.mode&&e.devModeUpdate()}),1e3)}},{key:"findDifference",value:function(e){var t=new Date,n=t.getDate()*this.helper.secondsInDay+t.getHours()*this.helper.secondsInHour+t.getMinutes()*this.helper.secondsInMinute+t.getSeconds(),i=e.getDate()*this.helper.secondsInDay+e.getHours()*this.helper.secondsInHour+e.getMinutes()*this.helper.secondsInMinute+e.getSeconds()-n;i>0?this.findTimerTime(i):this.options.callback?this.timeIsEnded(this.options.callback):this.timeIsEnded()}},{key:"findTimerTime",value:function(e){var t=Math.floor(e/this.helper.secondsInDay),n=t*this.helper.secondsInDay,i=Math.floor((e-n)/this.helper.secondsInHour),s=i*this.helper.secondsInHour,o=Math.floor((e-(n+s))/this.helper.secondsInMinute),r=o*this.helper.secondsInMinute,a=Math.floor(e-(n+s+r));this.timeToDeadline={days:t,hours:i,minutes:o,seconds:a},this.updateTimerDate({days:t<10?"0"+t:t,hours:i<10?"0"+i:i,minutes:o<10?"0"+o:o,seconds:a<10?"0"+a:a})}},{key:"setCorrectLabelText",value:function(){var e=this.timeToDeadline.days,t=1===e||e>19&&e%10==1?"день":e>1&&e<5||e>19&&e%10>1&&e%10<5?"дня":"дней",n=this.timeToDeadline.hours,i=1===n||n>19&&n%10==1?"час":n>1&&n<5||n>19&&n%10>1&&n%10<5?"часа":"часов",s=this.timeToDeadline.minutes,o=1===s||s%10==1?"минута":s%10==0||s%10>=5&&s%10<=9?"минут":"минуты",r=this.timeToDeadline.seconds,a=1===r||r%10==1?"секунда":r%10==0||r%10>=5&&r%10<=9?"секунд":"секунды";return this.labels={daysLabel:t,hoursLabel:i,minutesLabel:o,secondsLabel:a},this.labels}},{key:"updateTimerLabel",value:function(){var e=this.setCorrectLabelText();$(this.daysLabelContainer).text(e.daysLabel),$(this.hoursLabelContainer).text(e.hoursLabel),$(this.minutesLabelContainer).text(e.minutesLabel),$(this.secondsLabelContainer).text(e.secondsLabel)}},{key:"updateTimerDate",value:function(e){$(this.daysContainer).text(e.days),$(this.hoursContainer).text(e.hours),$(this.minutesContainer).text(e.minutes),$(this.secondsContainer).text(e.seconds)}},{key:"devModeUpdate",value:function(){var e=this;window._TIMERS?window._TIMERS.find((function(t){return t===e}))||window._TIMERS.push(e):(window._TIMERS=[],window._TIMERS.push(this))}},{key:"updateTimerDeadline",value:function(e){this.deadline=e}},{key:"timeIsEnded",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};clearInterval(this.interval);try{e()}catch(e){throw new Error("Invalid callback method for "+this.e)}}},{key:"stop",value:function(){clearInterval(this.interval)}},{key:"start",value:function(){this.tick()}}]),e}()}]);
//# sourceMappingURL=bundle.js.map